import{d as y,bk as b,v as f,E as $,o as i,e as _,w as x,f as s,g as l,h as t,ai as V,T as k,O as h,_ as C,D as N,N as A,c as D,i as g,F as R,r as B,b as E,U as S,Y as K,a6 as I,z as P,G as T}from"./index-a86022ab.js";import{_ as U}from"./PageTitle.vue_vue_type_script_setup_true_lang-022e67c2.js";import{_ as F}from"./EmptyMessage.vue_vue_type_script_setup_true_lang-123dde9f.js";import{I as G}from"./iconify-6a43d462.js";import{_ as L}from"./SidebarLink.vue_vue_type_script_setup_true_lang-a25d88ee.js";import{_ as O}from"./KnowledgeBaseIconSelector.vue_vue_type_script_setup_true_lang-3b47791e.js";import{g as q}from"./util-e9020baf.js";const H={class:"space-y-4"},M={class:"space-y-2"},Y=s("div",{class:"text-xs text-gray-700"},"Title",-1),j={class:"flex items-center gap-2"},z={class:"space-y-2"},W=s("div",{class:"text-xs text-gray-700"},"Description",-1),J=y({__name:"KnowledgeBaseCategoryNew",emits:["success"],setup(w,{emit:d}){const p=b(),m=d,a=f(""),o=f(""),c=f(""),v=()=>{a.value="",o.value="",c.value=""},u=$({url:"frappe.client.insert",makeParams(){return{doc:{doctype:"HD Article Category",category_name:a.value,description:o.value,icon:c.value}}},validate(r){const e=["category_name","description","icon"];for(const n of e)return r.doc[n]?void 0:`${n.replace("_"," ").toUpperCase()} is required`},onSuccess(r){m("success",r.name),v()}});return(r,e)=>(i(),_(t(N),k(t(p),{options:{title:"New category"}}),{"body-content":x(()=>[s("form",{onSubmit:e[3]||(e[3]=V((...n)=>t(u).submit&&t(u).submit(...n),["prevent"]))},[s("div",H,[s("div",M,[Y,s("div",j,[l(O,{icon:c.value,onSelect:e[0]||(e[0]=n=>c.value=n)},null,8,["icon"]),l(t(h),{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value=n),placeholder:"A brief guide",type:"text"},null,8,["modelValue"])])]),s("div",z,[W,l(t(h),{modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=n=>o.value=n),placeholder:"A short description",type:"textarea"},null,8,["modelValue"])]),l(t(C),{class:"w-full",label:"Create",theme:"gray",variant:"solid"})])],32)]),_:1},16))}}),Q={class:"h-full space-y-2 border-r px-3.5 py-2.5",style:{"min-width":"242px","max-width":"242px"}},X={class:"flex items-center justify-between"},Z=s("div",{class:"text-sm font-medium text-gray-600"},"Categories",-1),ee={class:"flex flex-col gap-1"},te=y({__name:"KnowledgeBaseSidebar",setup(w){const d=E(),p=S(),m=A(()=>p.params.categoryId),a=D({doctype:"HD Article Category",auto:!0,fields:["name","category_name","icon"],filters:{parent_category:""}}),o=f(!1);function c(u){d.push({name:K,params:{categoryId:u}})}function v(u){a.reload().then(()=>{o.value=!1,c(u)})}return(u,r)=>(i(),g("div",Q,[s("div",X,[Z,l(t(C),{theme:"gray",variant:"ghost",onClick:r[0]||(r[0]=e=>o.value=!o.value)},{icon:x(()=>[l(t(G),{icon:"lucide:plus",class:"h-4 w-4"})]),_:1})]),s("div",ee,[(i(!0),g(R,null,B(t(a).data,e=>(i(),_(L,{key:e.label,icon:t(q)(e.icon,!0),"is-active":m.value===e.name,"is-expanded":!0,label:e.category_name,"on-click":()=>c(e.name)},null,8,["icon","is-active","label","on-click"]))),128))]),l(J,{modelValue:o.value,"onUpdate:modelValue":r[1]||(r[1]=e=>o.value=e),onSuccess:v},null,8,["modelValue"])]))}}),se={class:"flex flex-col"},ae={class:"flex grow border-t"},me=y({__name:"KnowledgeBase",setup(w){return I(()=>({title:"Knowledge base"})),(d,p)=>{const m=P("RouterView");return i(),g("div",se,[l(U,{title:"Knowledge base"}),s("div",ae,[l(te),(i(),_(m,{key:d.$route.fullPath},{default:x(({Component:a})=>[a?(i(),_(T(a),{key:0})):(i(),_(F,{key:1,message:"Select a category"}))]),_:1}))])])}}});export{me as default};
//# sourceMappingURL=KnowledgeBase-49aca626.js.map
