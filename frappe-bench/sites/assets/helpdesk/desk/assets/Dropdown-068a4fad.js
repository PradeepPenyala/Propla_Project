import{v as k,aE as b,d as C,aN as Z,N as M,aO as W,aP as X,ae as Y,aH as ee,aG as te,aI as T,aQ as F,aR as O,aS as ne,b$ as ae,aY as le,aZ as $,x as re,y as oe,aL as ue,ab as D,c0 as se,ac as ie,c1 as ce,c2 as y,a_ as g,c3 as de,aX as N,c4 as Q,c5 as pe,an as me,_ as ve,b7 as fe,au as ge,z as S,o as x,e as _,w,g as A,aa as be,J as he,T as L,B as Ie,q as E,n as j,i as P,F as V,r as K,S as z,G as q,f as ye}from"./index-a86022ab.js";let U=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function H(n){var l,u;let i=(l=n.innerText)!=null?l:"",m=n.cloneNode(!0);if(!(m instanceof HTMLElement))return i;let s=!1;for(let c of m.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))c.remove(),s=!0;let e=s?(u=m.innerText)!=null?u:"":i;return U.test(e)&&(e=e.replace(U,"")),e}function xe(n){let l=n.getAttribute("aria-label");if(typeof l=="string")return l.trim();let u=n.getAttribute("aria-labelledby");if(u){let i=u.split(" ").map(m=>{let s=document.getElementById(m);if(s){let e=s.getAttribute("aria-label");return typeof e=="string"?e.trim():H(s).trim()}return null}).filter(Boolean);if(i.length>0)return i.join(", ")}return H(n).trim()}function ke(n){let l=k(""),u=k("");return()=>{let i=b(n);if(!i)return"";let m=i.innerText;if(l.value===m)return u.value;let s=xe(i).trim().toLowerCase();return l.value=m,u.value=s,s}}var Me=(n=>(n[n.Open=0]="Open",n[n.Closed=1]="Closed",n))(Me||{}),Se=(n=>(n[n.Pointer=0]="Pointer",n[n.Other=1]="Other",n))(Se||{});function we(n){requestAnimationFrame(()=>requestAnimationFrame(n))}let G=Symbol("MenuContext");function B(n){let l=ie(G,null);if(l===null){let u=new Error(`<${n} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(u,B),u}return l}let _e=C({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(n,{slots:l,attrs:u}){let i=k(1),m=k(null),s=k(null),e=k([]),c=k(""),d=k(null),h=k(1);function I(t=r=>r){let r=d.value!==null?e.value[d.value]:null,a=pe(t(e.value.slice()),f=>b(f.dataRef.domRef)),o=r?a.indexOf(r):null;return o===-1&&(o=null),{items:a,activeItemIndex:o}}let p={menuState:i,buttonRef:m,itemsRef:s,items:e,searchQuery:c,activeItemIndex:d,activationTrigger:h,closeMenu:()=>{i.value=1,d.value=null},openMenu:()=>i.value=0,goToItem(t,r,a){let o=I(),f=ce(t===y.Specific?{focus:y.Specific,id:r}:{focus:t},{resolveItems:()=>o.items,resolveActiveIndex:()=>o.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});c.value="",d.value=f,h.value=a??1,e.value=o.items},search(t){let r=c.value!==""?0:1;c.value+=t.toLowerCase();let a=(d.value!==null?e.value.slice(d.value+r).concat(e.value.slice(0,d.value+r)):e.value).find(f=>f.dataRef.textValue.startsWith(c.value)&&!f.dataRef.disabled),o=a?e.value.indexOf(a):-1;o===-1||o===d.value||(d.value=o,h.value=1)},clearSearch(){c.value=""},registerItem(t,r){let a=I(o=>[...o,{id:t,dataRef:r}]);e.value=a.items,d.value=a.activeItemIndex,h.value=1},unregisterItem(t){let r=I(a=>{let o=a.findIndex(f=>f.id===t);return o!==-1&&a.splice(o,1),a});e.value=r.items,d.value=r.activeItemIndex,h.value=1}};return Z([m,s],(t,r)=>{var a;p.closeMenu(),W(r,X.Loose)||(t.preventDefault(),(a=b(m))==null||a.focus())},M(()=>i.value===0)),Y(G,p),ee(M(()=>te(i.value,{0:T.Open,1:T.Closed}))),()=>{let t={open:i.value===0,close:p.closeMenu};return F({ourProps:{},theirProps:n,slot:t,slots:l,attrs:u,name:"Menu"})}}}),De=C({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(n,{attrs:l,slots:u,expose:i}){var m;let s=(m=n.id)!=null?m:`headlessui-menu-button-${O()}`,e=B("MenuButton");i({el:e.buttonRef,$el:e.buttonRef});function c(p){switch(p.key){case g.Space:case g.Enter:case g.ArrowDown:p.preventDefault(),p.stopPropagation(),e.openMenu(),D(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(y.First)});break;case g.ArrowUp:p.preventDefault(),p.stopPropagation(),e.openMenu(),D(()=>{var t;(t=b(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(y.Last)});break}}function d(p){switch(p.key){case g.Space:p.preventDefault();break}}function h(p){n.disabled||(e.menuState.value===0?(e.closeMenu(),D(()=>{var t;return(t=b(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(p.preventDefault(),e.openMenu(),we(()=>{var t;return(t=b(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let I=ne(M(()=>({as:n.as,type:l.type})),e.buttonRef);return()=>{var p;let t={open:e.menuState.value===0},{...r}=n,a={ref:e.buttonRef,id:s,type:I.value,"aria-haspopup":"menu","aria-controls":(p=b(e.itemsRef))==null?void 0:p.id,"aria-expanded":e.menuState.value===0,onKeydown:c,onKeyup:d,onClick:h};return F({ourProps:a,theirProps:r,slot:t,attrs:l,slots:u,name:"MenuButton"})}}}),Pe=C({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(n,{attrs:l,slots:u,expose:i}){var m;let s=(m=n.id)!=null?m:`headlessui-menu-items-${O()}`,e=B("MenuItems"),c=k(null);i({el:e.itemsRef,$el:e.itemsRef}),ae({container:M(()=>b(e.itemsRef)),enabled:M(()=>e.menuState.value===0),accept(t){return t.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:t.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute("role","none")}});function d(t){var r;switch(c.value&&clearTimeout(c.value),t.key){case g.Space:if(e.searchQuery.value!=="")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case g.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let a=e.items.value[e.activeItemIndex.value];(r=b(a.dataRef.domRef))==null||r.click()}e.closeMenu(),Q(b(e.buttonRef));break;case g.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Next);case g.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Previous);case g.Home:case g.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.First);case g.End:case g.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(y.Last);case g.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),D(()=>{var a;return(a=b(e.buttonRef))==null?void 0:a.focus({preventScroll:!0})});break;case g.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),D(()=>de(b(e.buttonRef),t.shiftKey?N.Previous:N.Next));break;default:t.key.length===1&&(e.search(t.key),c.value=setTimeout(()=>e.clearSearch(),350));break}}function h(t){switch(t.key){case g.Space:t.preventDefault();break}}let I=le(),p=M(()=>I!==null?(I.value&T.Open)===T.Open:e.menuState.value===0);return()=>{var t,r;let a={open:e.menuState.value===0},{...o}=n,f={"aria-activedescendant":e.activeItemIndex.value===null||(t=e.items.value[e.activeItemIndex.value])==null?void 0:t.id,"aria-labelledby":(r=b(e.buttonRef))==null?void 0:r.id,id:s,onKeydown:d,onKeyup:h,role:"menu",tabIndex:0,ref:e.itemsRef};return F({ourProps:f,theirProps:o,slot:a,attrs:l,slots:u,features:$.RenderStrategy|$.Static,visible:p.value,name:"MenuItems"})}}}),Re=C({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(n,{slots:l,attrs:u,expose:i}){var m;let s=(m=n.id)!=null?m:`headlessui-menu-item-${O()}`,e=B("MenuItem"),c=k(null);i({el:c,$el:c});let d=M(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===s:!1),h=ke(c),I=M(()=>({disabled:n.disabled,get textValue(){return h()},domRef:c}));re(()=>e.registerItem(s,I)),oe(()=>e.unregisterItem(s)),ue(()=>{e.menuState.value===0&&d.value&&e.activationTrigger.value!==0&&D(()=>{var v,R;return(R=(v=b(c))==null?void 0:v.scrollIntoView)==null?void 0:R.call(v,{block:"nearest"})})});function p(v){if(n.disabled)return v.preventDefault();e.closeMenu(),Q(b(e.buttonRef))}function t(){if(n.disabled)return e.goToItem(y.Nothing);e.goToItem(y.Specific,s)}let r=se();function a(v){r.update(v)}function o(v){r.wasMoved(v)&&(n.disabled||d.value||e.goToItem(y.Specific,s,0))}function f(v){r.wasMoved(v)&&(n.disabled||d.value&&e.goToItem(y.Nothing))}return()=>{let{disabled:v,...R}=n,J={active:d.value,disabled:v,close:e.closeMenu};return F({ourProps:{id:s,ref:c,role:"menuitem",tabIndex:v===!0?void 0:-1,"aria-disabled":v===!0?!0:void 0,onClick:p,onFocus:t,onPointerenter:a,onMouseenter:a,onPointermove:o,onMousemove:o,onPointerleave:f,onMouseleave:f},theirProps:{...u,...R},slot:J,attrs:u,slots:l,name:"MenuItem"})}}});const Te={name:"Dropdown",props:{button:{type:Object,default:null},options:{type:Array,default:()=>[]},placement:{type:String,default:"left"}},components:{Menu:_e,MenuButton:De,MenuItems:Pe,MenuItem:Re,Button:ve,FeatherIcon:fe,Popover:ge},methods:{normalizeDropdownItem(n){let l=n.onClick||null;return!l&&n.route&&this.$router&&(l=()=>this.$router.push(n.route)),{label:n.label,icon:n.icon,group:n.group,component:n.component,onClick:l}},filterOptions(n){return(n||[]).filter(Boolean).filter(l=>l.condition?l.condition():!0).map(l=>this.normalizeDropdownItem(l))}},computed:{groups(){return(this.options[0]?.group?this.options:[{group:"",items:this.options}]).map((l,u)=>({key:u,group:l.group,hideLabel:l.hideLabel||!1,items:this.filterOptions(l.items)}))},dropdownTransition(){return{enterActiveClass:"transition duration-100 ease-out",enterFromClass:"transform scale-95 opacity-0",enterToClass:"transform scale-100 opacity-100",leaveActiveClass:"transition duration-75 ease-in",leaveFromClass:"transform scale-100 opacity-100",leaveToClass:"transform scale-95 opacity-0"}},popoverPlacement(){return this.placement==="left"?"bottom-start":this.placement==="right"?"bottom-end":this.placement==="center"?"bottom-center":"bottom"}}},Ce={key:0,class:"flex h-7 items-center px-2 text-sm font-medium text-gray-500"},Fe=["onClick"],Be={class:"whitespace-nowrap"};function Ae(n,l,u,i,m,s){const e=S("Button"),c=S("MenuButton"),d=S("FeatherIcon"),h=S("MenuItem"),I=S("MenuItems"),p=S("Popover"),t=S("Menu");return x(),_(t,{as:"div",class:"relative inline-block text-left"},{default:w(({open:r})=>[A(p,{transition:s.dropdownTransition,show:r,placement:s.popoverPlacement},{target:w(()=>[A(c,{as:"div"},{default:w(()=>[n.$slots.default?be(n.$slots,"default",he(L({key:0},{open:r}))):(x(),_(e,L({key:1,active:r},u.button),{default:w(()=>[Ie(E(u.button?u.button?.label||null:"Options"),1)]),_:2},1040,["active"]))]),_:2},1024)]),body:w(()=>[A(I,{class:j(["mt-2 min-w-40 divide-y divide-gray-100 rounded-lg bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none",{"left-0 origin-top-left":u.placement=="left","right-0 origin-top-right":u.placement=="right","inset-x-0 origin-top":u.placement=="center"}])},{default:w(()=>[(x(!0),P(V,null,K(s.groups,a=>(x(),P("div",{key:a.key,class:"p-1.5"},[a.group&&!a.hideLabel?(x(),P("div",Ce,E(a.group),1)):z("",!0),(x(!0),P(V,null,K(a.items,o=>(x(),_(h,{key:o.label},{default:w(({active:f})=>[o.component?(x(),_(q(o.component),{key:0,active:f},null,8,["active"])):(x(),P("button",{key:1,class:j([f?"bg-gray-100":"text-gray-800","group flex h-7 w-full items-center rounded px-2 text-base"]),onClick:o.onClick},[o.icon&&typeof o.icon=="string"?(x(),_(d,{key:0,name:o.icon,class:"mr-2 h-4 w-4 flex-shrink-0 text-gray-700","aria-hidden":"true"},null,8,["name"])):o.icon?(x(),_(q(o.icon),{key:1,class:"mr-2 h-4 w-4 flex-shrink-0 text-gray-700"})):z("",!0),ye("span",Be,E(o.label),1)],10,Fe))]),_:2},1024))),128))]))),128))]),_:1},8,["class"])]),_:2},1032,["transition","show","placement"])]),_:3})}const Oe=me(Te,[["render",Ae]]);export{Oe as D};
//# sourceMappingURL=Dropdown-068a4fad.js.map
