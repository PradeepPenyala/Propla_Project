import{d as b,t as k,c as B,o as d,e as g,w as i,f as e,g as a,h as t,n as x,i as V,r as L,F as R,b as C,j as S,l as I,k as K,m as P,p as U,q as y,D as A,s as D,v as N,x as T,y as z,z as w,B as E,C as j,_ as F}from"./index-a86022ab.js";import{I as v}from"./iconify-6a43d462.js";import{_ as M}from"./BrandLogo.vue_vue_type_script_setup_true_lang-7b2cc865.js";import"./Avatar.vue_vue_type_script_setup_true_lang-f38fd5a3.js";const O={class:"relative"},q={class:"pl-4.5 absolute inset-y-0 left-0 flex items-center"},G={class:"overflow-hidden text-ellipsis whitespace-nowrap text-gray-700"},H=e("span",{class:"text-gray-700"}," / ",-1),J={class:"overflow-hidden text-ellipsis whitespace-nowrap"},Q=b({__name:"KnowledgeBasePublicSearch",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(h,{emit:p}){const s=h,c=p,f=C(),o=k(s,"modelValue"),n=B({doctype:"HD Article",fields:["name","title","category.category_name"],filters:{status:"Published"},pageLength:99999,debounce:500,auto:!1,transform:l=>{for(const r of l)r.route={name:S,params:{articleId:r.name}};return l}});function _(l){n.update({filters:{title:["like",`%${l.target.value}%`]}}),n.reload()}function m(l){l&&(c("update:modelValue",!o.value),f.push(l.route))}return(l,r)=>(d(),g(t(A),{options:{size:"xl",position:"top"},"model-value":o.value,"onUpdate:modelValue":r[0]||(r[0]=u=>c("update:modelValue",!o.value)),onAfterLeave:r[1]||(r[1]=u=>t(n).data=null)},{body:i(()=>[e("div",null,[a(t(I),{nullable:"","onUpdate:modelValue":m},{default:i(()=>[e("div",O,[e("div",q,[a(t(v),{icon:"lucide:search",class:"h-4 w-4"})]),a(t(K),{placeholder:"Search",class:"pl-11.5 pr-4.5 w-full border-none bg-transparent py-3 text-base text-gray-800 placeholder:text-gray-500 focus:ring-0",autocomplete:"off",onInput:_})]),a(t(P),{class:x(["max-h-96 overflow-auto border-t border-gray-100 text-base",{"py-2.5":!!t(n).data}]),static:"",hold:""},{default:i(()=>[(d(!0),V(R,null,L(t(n).data,u=>(d(),g(t(U),{key:u.name,value:u,class:"px-2.5"},{default:i(({active:$})=>[e("div",{class:x(["flex w-full min-w-0 items-center gap-1 rounded p-2 text-base font-medium text-gray-800",{"bg-gray-200":$}])},[e("span",G,y(u.category_name),1),H,e("span",J,y(u.title),1)],2)]),_:2},1032,["value"]))),128))]),_:1},8,["class"])]),_:1})])]),_:1},8,["model-value"]))}}),W={class:"bg-gray-100"},X={class:"container m-auto"},Y={class:"flex justify-between py-2"},Z={class:"flex items-center gap-2"},ee=e("span",{class:"text-gray-600"},"/",-1),te=e("span",{class:"font-medium text-gray-900"},"Knowledge Base",-1),ae={class:"flex items-center gap-1"},re=b({__name:"KnowledgeBasePublic",setup(h){const p=D(),s=N(!1),c=["meta","k"];return T(()=>p.add(c,()=>s.value=!s.value)),z(()=>p.remove(c)),(f,o)=>{const n=w("RouterLink"),_=w("RouterView");return d(),V("span",null,[e("header",W,[e("div",X,[e("div",Y,[e("div",Z,[a(n,{to:{name:t(j)}},{default:i(()=>[a(M,{class:"flex"})]),_:1},8,["to"]),ee,te]),a(t(F),{label:"Search",theme:"gray",variant:"outline",onClick:o[0]||(o[0]=m=>s.value=!s.value)},{prefix:i(()=>[a(t(v),{icon:"lucide:search"})]),suffix:i(()=>[e("span",ae,[a(t(v),{icon:"lucide:command",class:"h-3 w-3"}),E(" K ")])]),_:1})])])]),(d(),g(_,{key:f.$route.fullPath,class:"m-auto"})),a(Q,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=m=>s.value=m)},null,8,["modelValue"])])}}});export{re as default};
//# sourceMappingURL=KnowledgeBasePublic-1a569133.js.map
