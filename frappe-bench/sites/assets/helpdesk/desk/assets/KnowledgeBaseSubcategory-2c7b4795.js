import{d as V,v as m,I as E,V as _,o as x,i as D,g as o,w as s,f as l,h as e,q as f,B as S,ai as A,b as N,U as $,_ as p,a9 as k,O as b,D as B,$ as T}from"./index-a86022ab.js";import{c as R}from"./listManager-63aba0ed.js";import{u as q}from"./error-90c51c34.js";import"./vuedraggable.umd-9334f31c.js";import{I as L}from"./file-text-7a5c11aa.js";import{_ as U}from"./LV.vue_vue_type_script_setup_true_lang-23701244.js";import"./iconify-6a43d462.js";import{_ as H}from"./plus-3ad50efe.js";import{_ as M}from"./KnowledgeBaseCategoryHeader.vue_vue_type_script_setup_true_lang-fdc5e1c1.js";import{_ as O}from"./EmptyMessage.vue_vue_type_script_setup_true_lang-123dde9f.js";import{I as G}from"./edit-3-c163ee41.js";import"./TabButtons-ea997705.js";import"./label-fe9568ec.js";const K={class:"flex grow flex-col"},P={class:"space-x-2"},F={class:"flex items-center gap-2"},W={class:"truncate"},j={class:"space-y-4"},ie=V({__name:"KnowledgeBaseSubcategory",props:{subCategoryId:{type:String,required:!0}},setup(v){const g=v,w=N(),i=$(),n=m(""),u=m(""),c=m(!1),r=E({doctype:"HD Article Category",name:g.subCategoryId,auto:!0,setValue:{onError:q({title:"Error creating sub category"})}}),y=T(()=>r.setValue.submit({category_name:n.value||r.doc.category_name,description:u.value||r.doc.description}),500),h=R({doctype:"HD Article",filters:{category:g.subCategoryId},auto:!0,transform:d=>{for(const t of d)t.onClick={name:_,params:{articleId:t.name},query:{category:i.params.categoryId,subCategory:i.params.subCategoryId}};return d}}),C=[{label:"Title",key:"title",width:"w-96"},{label:"Status",key:"status",width:"w-40"}];function I(){w.push({name:_,params:{articleId:"new"},query:{category:i.params.categoryId,subCategory:i.params.subCategoryId}})}return(d,t)=>(x(),D("div",K,[o(M,{title:e(r).doc?.category_name,description:e(r).doc?.description},{right:s(()=>[l("div",P,[o(e(p),{label:"Edit",theme:"gray",variant:"outline",onClick:t[0]||(t[0]=a=>c.value=!c.value)},{prefix:s(()=>[o(e(G),{class:"h-4 w-4"})]),_:1}),o(e(p),{label:"Add new",theme:"gray",variant:"solid",onClick:I},{prefix:s(()=>[o(e(H),{class:"h-4 w-4"})]),_:1})])]),_:1},8,["title","description"]),o(e(U),{columns:C,resource:e(h),doctype:"HD Article"},{title:s(({data:a})=>[l("div",F,[l("div",null,[o(e(L),{class:"h-4 w-4"})]),l("div",W,f(a.title),1)])]),status:s(({data:a})=>[o(e(k),{theme:a.status==="Published"?"green":"orange",variant:"subtle"},{default:s(()=>[S(f(a.status),1)]),_:2},1032,["theme"])]),emptyMessage:s(()=>[o(O,{message:"This sub category is empty"})]),_:1},8,["resource"]),o(e(B),{modelValue:c.value,"onUpdate:modelValue":t[4]||(t[4]=a=>c.value=a),options:{title:"Edit"}},{"body-content":s(()=>[l("form",{onSubmit:t[3]||(t[3]=A((...a)=>e(y)&&e(y)(...a),["prevent"]))},[l("div",j,[o(e(b),{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=a=>n.value=a),placeholder:e(r).doc.category_name,label:"Name",type:"text"},null,8,["modelValue","placeholder"]),o(e(b),{modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=a=>u.value=a),placeholder:e(r).doc.description,label:"Description",type:"textarea"},null,8,["modelValue","placeholder"]),o(e(p),{disabled:!n.value&&!u.value,class:"w-full",label:"Save",theme:"gray",variant:"solid"},null,8,["disabled"])])],32)]),_:1},8,["modelValue"])]))}});export{ie as default};
//# sourceMappingURL=KnowledgeBaseSubcategory-2c7b4795.js.map
