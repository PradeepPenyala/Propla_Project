import{bw as qt,b6 as Wt,bx as ut,by as ht,R as pt,bz as Kt,bA as Gt,bB as ft,bC as Yt,aw as vt,d as Le,v as De,bD as Xt,aL as Jt,ab as Qt,h as Zt,b5 as Oe,a2 as ve,x as mt,bE as en,a5 as tn,bF as et,an as b,o as p,i as v,F as J,r as pe,n as te,q as Q,S as ne,bG as nn,au as on,z as D,f as h,g as q,w as Z,e as S,G as he,a7 as rn,a8 as sn,T as gt,bH as ce,bI as de,bJ as an,bK as ln,bL as cn,bM as dn,bN as un,bO as hn,bP as pn,bQ as fn,bR as vn,bS as mn,bT as gn,bU as _n,bV as bn,bW as wn,bX as yn,bY as Hn,bZ as xn,aa as Ce}from"./index-a86022ab.js";var Cn="tippy-box",_t="tippy-content",An="tippy-backdrop",bt="tippy-arrow",wt="tippy-svg-arrow",R={passive:!0,capture:!0},yt=function(){return document.body};function Ae(e,t,n){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(n)?n[t]:n)}return e}function ze(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function Ht(e,t){return typeof e=="function"?e.apply(void 0,t):e}function tt(e,t){if(t===0)return e;var n;return function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function $n(e){return e.split(/\s+/).filter(Boolean)}function j(e){return[].concat(e)}function nt(e,t){e.indexOf(t)===-1&&e.push(t)}function Tn(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function Mn(e){return e.split("-")[0]}function fe(e){return[].slice.call(e)}function it(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function ee(){return document.createElement("div")}function me(e){return["Element","Fragment"].some(function(t){return ze(e,t)})}function En(e){return ze(e,"NodeList")}function Bn(e){return ze(e,"MouseEvent")}function Ln(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Dn(e){return me(e)?[e]:En(e)?fe(e):Array.isArray(e)?e:fe(document.querySelectorAll(e))}function $e(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function ot(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function On(e){var t,n=j(e),i=n[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function zn(e,t){var n=t.clientX,i=t.clientY;return e.every(function(c){var l=c.popperRect,a=c.popperState,s=c.props,u=s.interactiveBorder,g=Mn(a.placement),y=a.modifiersData.offset;if(!y)return!0;var C=g==="bottom"?y.top.y:0,A=g==="top"?y.bottom.y:0,M=g==="right"?y.left.x:0,H=g==="left"?y.right.x:0,O=l.top-i+C>u,P=i-l.bottom-A>u,ie=l.left-n+M>u,z=n-l.right-H>u;return O||P||ie||z})}function Te(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(c){e[i](c,n)})}function rt(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var L={isTouch:!1},st=0;function Vn(){L.isTouch||(L.isTouch=!0,window.performance&&document.addEventListener("mousemove",xt))}function xt(){var e=performance.now();e-st<20&&(L.isTouch=!1,document.removeEventListener("mousemove",xt)),st=e}function kn(){var e=document.activeElement;if(Ln(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Rn(){document.addEventListener("touchstart",Vn,R),window.addEventListener("blur",kn)}var Sn=typeof window<"u"&&typeof document<"u",In=Sn?!!window.msCrypto:!1,Pn={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Fn={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},E=Object.assign({appendTo:yt,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Pn,Fn),Nn=Object.keys(E),Un=function(t){var n=Object.keys(t);n.forEach(function(i){E[i]=t[i]})};function Ct(e){var t=e.plugins||[],n=t.reduce(function(i,c){var l=c.name,a=c.defaultValue;if(l){var s;i[l]=e[l]!==void 0?e[l]:(s=E[l])!=null?s:a}return i},{});return Object.assign({},e,n)}function jn(e,t){var n=t?Object.keys(Ct(Object.assign({},E,{plugins:t}))):Nn,i=n.reduce(function(c,l){var a=(e.getAttribute("data-tippy-"+l)||"").trim();if(!a)return c;if(l==="content")c[l]=a;else try{c[l]=JSON.parse(a)}catch{c[l]=a}return c},{});return i}function at(e,t){var n=Object.assign({},t,{content:Ht(t.content,[e])},t.ignoreAttributes?{}:jn(e,t.plugins));return n.aria=Object.assign({},E.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var qn=function(){return"innerHTML"};function Ee(e,t){e[qn()]=t}function lt(e){var t=ee();return e===!0?t.className=bt:(t.className=wt,me(e)?t.appendChild(e):Ee(t,e)),t}function ct(e,t){me(t.content)?(Ee(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Ee(e,t.content):e.textContent=t.content)}function Be(e){var t=e.firstElementChild,n=fe(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(_t)}),arrow:n.find(function(i){return i.classList.contains(bt)||i.classList.contains(wt)}),backdrop:n.find(function(i){return i.classList.contains(An)})}}function At(e){var t=ee(),n=ee();n.className=Cn,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=ee();i.className=_t,i.setAttribute("data-state","hidden"),ct(i,e.props),t.appendChild(n),n.appendChild(i),c(e.props,e.props);function c(l,a){var s=Be(t),u=s.box,g=s.content,y=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(l.content!==a.content||l.allowHTML!==a.allowHTML)&&ct(g,e.props),a.arrow?y?l.arrow!==a.arrow&&(u.removeChild(y),u.appendChild(lt(a.arrow))):u.appendChild(lt(a.arrow)):y&&u.removeChild(y)}return{popper:t,onUpdate:c}}At.$$tippy=!0;var Wn=1,ue=[],Me=[];function Kn(e,t){var n=at(e,Object.assign({},E,Ct(it(t)))),i,c,l,a=!1,s=!1,u=!1,g=!1,y,C,A,M=[],H=tt(We,n.interactiveDebounce),O,P=Wn++,ie=null,z=Tn(n.plugins),W={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},o={id:P,reference:e,popper:ee(),popperInstance:ie,props:n,state:W,plugins:z,clearDelayTimeouts:kt,setProps:Rt,setContent:St,show:It,hide:Pt,hideWithInteractivity:Ft,enable:zt,disable:Vt,unmount:Nt,destroy:Ut};if(!n.render)return o;var _e=n.render(o),m=_e.popper,K=_e.onUpdate;m.setAttribute("data-tippy-root",""),m.id="tippy-"+o.id,o.popper=m,e._tippy=o,m._tippy=o;var Et=z.map(function(r){return r.fn(o)}),Bt=e.hasAttribute("aria-expanded");return Ue(),X(),oe(),$("onCreate",[o]),n.showOnCreate&&Qe(),m.addEventListener("mouseenter",function(){o.props.interactive&&o.state.isVisible&&o.clearDelayTimeouts()}),m.addEventListener("mouseleave",function(){o.props.interactive&&o.props.trigger.indexOf("mouseenter")>=0&&G().addEventListener("mousemove",H)}),o;function Ve(){var r=o.props.touch;return Array.isArray(r)?r:[r,0]}function ke(){return Ve()[0]==="hold"}function B(){var r;return!!((r=o.props.render)!=null&&r.$$tippy)}function V(){return O||e}function G(){var r=V().parentNode;return r?On(r):document}function Y(){return Be(m)}function Re(r){return o.state.isMounted&&!o.state.isVisible||L.isTouch||y&&y.type==="focus"?0:Ae(o.props.delay,r?0:1,E.delay)}function oe(r){r===void 0&&(r=!1),m.style.pointerEvents=o.props.interactive&&!r?"":"none",m.style.zIndex=""+o.props.zIndex}function $(r,d,f){if(f===void 0&&(f=!0),Et.forEach(function(_){_[r]&&_[r].apply(_,d)}),f){var w;(w=o.props)[r].apply(w,d)}}function Se(){var r=o.props.aria;if(r.content){var d="aria-"+r.content,f=m.id,w=j(o.props.triggerTarget||e);w.forEach(function(_){var x=_.getAttribute(d);if(o.state.isVisible)_.setAttribute(d,x?x+" "+f:f);else{var T=x&&x.replace(f,"").trim();T?_.setAttribute(d,T):_.removeAttribute(d)}})}}function X(){if(!(Bt||!o.props.aria.expanded)){var r=j(o.props.triggerTarget||e);r.forEach(function(d){o.props.interactive?d.setAttribute("aria-expanded",o.state.isVisible&&d===V()?"true":"false"):d.removeAttribute("aria-expanded")})}}function be(){G().removeEventListener("mousemove",H),ue=ue.filter(function(r){return r!==H})}function re(r){if(!(L.isTouch&&(u||r.type==="mousedown"))){var d=r.composedPath&&r.composedPath()[0]||r.target;if(!(o.props.interactive&&rt(m,d))){if(j(o.props.triggerTarget||e).some(function(f){return rt(f,d)})){if(L.isTouch||o.state.isVisible&&o.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[o,r]);o.props.hideOnClick===!0&&(o.clearDelayTimeouts(),o.hide(),s=!0,setTimeout(function(){s=!1}),o.state.isMounted||we())}}}function Ie(){u=!0}function Pe(){u=!1}function Fe(){var r=G();r.addEventListener("mousedown",re,!0),r.addEventListener("touchend",re,R),r.addEventListener("touchstart",Pe,R),r.addEventListener("touchmove",Ie,R)}function we(){var r=G();r.removeEventListener("mousedown",re,!0),r.removeEventListener("touchend",re,R),r.removeEventListener("touchstart",Pe,R),r.removeEventListener("touchmove",Ie,R)}function Lt(r,d){Ne(r,function(){!o.state.isVisible&&m.parentNode&&m.parentNode.contains(m)&&d()})}function Dt(r,d){Ne(r,d)}function Ne(r,d){var f=Y().box;function w(_){_.target===f&&(Te(f,"remove",w),d())}if(r===0)return d();Te(f,"remove",C),Te(f,"add",w),C=w}function F(r,d,f){f===void 0&&(f=!1);var w=j(o.props.triggerTarget||e);w.forEach(function(_){_.addEventListener(r,d,f),M.push({node:_,eventType:r,handler:d,options:f})})}function Ue(){ke()&&(F("touchstart",qe,{passive:!0}),F("touchend",Ke,{passive:!0})),$n(o.props.trigger).forEach(function(r){if(r!=="manual")switch(F(r,qe),r){case"mouseenter":F("mouseleave",Ke);break;case"focus":F(In?"focusout":"blur",Ge);break;case"focusin":F("focusout",Ge);break}})}function je(){M.forEach(function(r){var d=r.node,f=r.eventType,w=r.handler,_=r.options;d.removeEventListener(f,w,_)}),M=[]}function qe(r){var d,f=!1;if(!(!o.state.isEnabled||Ye(r)||s)){var w=((d=y)==null?void 0:d.type)==="focus";y=r,O=r.currentTarget,X(),!o.state.isVisible&&Bn(r)&&ue.forEach(function(_){return _(r)}),r.type==="click"&&(o.props.trigger.indexOf("mouseenter")<0||a)&&o.props.hideOnClick!==!1&&o.state.isVisible?f=!0:Qe(r),r.type==="click"&&(a=!f),f&&!w&&se(r)}}function We(r){var d=r.target,f=V().contains(d)||m.contains(d);if(!(r.type==="mousemove"&&f)){var w=ye().concat(m).map(function(_){var x,T=_._tippy,N=(x=T.popperInstance)==null?void 0:x.state;return N?{popperRect:_.getBoundingClientRect(),popperState:N,props:n}:null}).filter(Boolean);zn(w,r)&&(be(),se(r))}}function Ke(r){var d=Ye(r)||o.props.trigger.indexOf("click")>=0&&a;if(!d){if(o.props.interactive){o.hideWithInteractivity(r);return}se(r)}}function Ge(r){o.props.trigger.indexOf("focusin")<0&&r.target!==V()||o.props.interactive&&r.relatedTarget&&m.contains(r.relatedTarget)||se(r)}function Ye(r){return L.isTouch?ke()!==r.type.indexOf("touch")>=0:!1}function Xe(){Je();var r=o.props,d=r.popperOptions,f=r.placement,w=r.offset,_=r.getReferenceClientRect,x=r.moveTransition,T=B()?Be(m).arrow:null,N=_?{getBoundingClientRect:_,contextElement:_.contextElement||V()}:e,Ze={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ae){var U=ae.state;if(B()){var jt=Y(),xe=jt.box;["placement","reference-hidden","escaped"].forEach(function(le){le==="placement"?xe.setAttribute("data-placement",U.placement):U.attributes.popper["data-popper-"+le]?xe.setAttribute("data-"+le,""):xe.removeAttribute("data-"+le)}),U.attributes.popper={}}}},k=[{name:"offset",options:{offset:w}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!x}},Ze];B()&&T&&k.push({name:"arrow",options:{element:T,padding:3}}),k.push.apply(k,d?.modifiers||[]),o.popperInstance=Wt(N,m,Object.assign({},d,{placement:f,onFirstUpdate:A,modifiers:k}))}function Je(){o.popperInstance&&(o.popperInstance.destroy(),o.popperInstance=null)}function Ot(){var r=o.props.appendTo,d,f=V();o.props.interactive&&r===yt||r==="parent"?d=f.parentNode:d=Ht(r,[f]),d.contains(m)||d.appendChild(m),o.state.isMounted=!0,Xe()}function ye(){return fe(m.querySelectorAll("[data-tippy-root]"))}function Qe(r){o.clearDelayTimeouts(),r&&$("onTrigger",[o,r]),Fe();var d=Re(!0),f=Ve(),w=f[0],_=f[1];L.isTouch&&w==="hold"&&_&&(d=_),d?i=setTimeout(function(){o.show()},d):o.show()}function se(r){if(o.clearDelayTimeouts(),$("onUntrigger",[o,r]),!o.state.isVisible){we();return}if(!(o.props.trigger.indexOf("mouseenter")>=0&&o.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(r.type)>=0&&a)){var d=Re(!1);d?c=setTimeout(function(){o.state.isVisible&&o.hide()},d):l=requestAnimationFrame(function(){o.hide()})}}function zt(){o.state.isEnabled=!0}function Vt(){o.hide(),o.state.isEnabled=!1}function kt(){clearTimeout(i),clearTimeout(c),cancelAnimationFrame(l)}function Rt(r){if(!o.state.isDestroyed){$("onBeforeUpdate",[o,r]),je();var d=o.props,f=at(e,Object.assign({},d,it(r),{ignoreAttributes:!0}));o.props=f,Ue(),d.interactiveDebounce!==f.interactiveDebounce&&(be(),H=tt(We,f.interactiveDebounce)),d.triggerTarget&&!f.triggerTarget?j(d.triggerTarget).forEach(function(w){w.removeAttribute("aria-expanded")}):f.triggerTarget&&e.removeAttribute("aria-expanded"),X(),oe(),K&&K(d,f),o.popperInstance&&(Xe(),ye().forEach(function(w){requestAnimationFrame(w._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[o,r])}}function St(r){o.setProps({content:r})}function It(){var r=o.state.isVisible,d=o.state.isDestroyed,f=!o.state.isEnabled,w=L.isTouch&&!o.props.touch,_=Ae(o.props.duration,0,E.duration);if(!(r||d||f||w)&&!V().hasAttribute("disabled")&&($("onShow",[o],!1),o.props.onShow(o)!==!1)){if(o.state.isVisible=!0,B()&&(m.style.visibility="visible"),oe(),Fe(),o.state.isMounted||(m.style.transition="none"),B()){var x=Y(),T=x.box,N=x.content;$e([T,N],0)}A=function(){var k;if(!(!o.state.isVisible||g)){if(g=!0,m.offsetHeight,m.style.transition=o.props.moveTransition,B()&&o.props.animation){var He=Y(),ae=He.box,U=He.content;$e([ae,U],_),ot([ae,U],"visible")}Se(),X(),nt(Me,o),(k=o.popperInstance)==null||k.forceUpdate(),$("onMount",[o]),o.props.animation&&B()&&Dt(_,function(){o.state.isShown=!0,$("onShown",[o])})}},Ot()}}function Pt(){var r=!o.state.isVisible,d=o.state.isDestroyed,f=!o.state.isEnabled,w=Ae(o.props.duration,1,E.duration);if(!(r||d||f)&&($("onHide",[o],!1),o.props.onHide(o)!==!1)){if(o.state.isVisible=!1,o.state.isShown=!1,g=!1,a=!1,B()&&(m.style.visibility="hidden"),be(),we(),oe(!0),B()){var _=Y(),x=_.box,T=_.content;o.props.animation&&($e([x,T],w),ot([x,T],"hidden"))}Se(),X(),o.props.animation?B()&&Lt(w,o.unmount):o.unmount()}}function Ft(r){G().addEventListener("mousemove",H),nt(ue,H),H(r)}function Nt(){o.state.isVisible&&o.hide(),o.state.isMounted&&(Je(),ye().forEach(function(r){r._tippy.unmount()}),m.parentNode&&m.parentNode.removeChild(m),Me=Me.filter(function(r){return r!==o}),o.state.isMounted=!1,$("onHidden",[o]))}function Ut(){o.state.isDestroyed||(o.clearDelayTimeouts(),o.unmount(),je(),delete e._tippy,o.state.isDestroyed=!0,$("onDestroy",[o]))}}function I(e,t){t===void 0&&(t={});var n=E.plugins.concat(t.plugins||[]);Rn();var i=Object.assign({},t,{plugins:n}),c=Dn(e),l=c.reduce(function(a,s){var u=s&&Kn(s,i);return u&&a.push(u),a},[]);return me(e)?l[0]:l}I.defaultProps=E;I.setDefaultProps=Un;I.currentInput=L;Object.assign({},qt,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});I.setDefaultProps({render:At});class Gn{constructor({editor:t,element:n,view:i,tippyOptions:c={},updateDelay:l=250,shouldShow:a}){this.preventHide=!1,this.shouldShow=({view:s,state:u,from:g,to:y})=>{const{doc:C,selection:A}=u,{empty:M}=A,H=!C.textBetween(g,y).length&&Kt(u.selection),O=this.element.contains(document.activeElement);return!(!(s.hasFocus()||O)||M||H||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var u;if(this.preventHide){this.preventHide=!1;return}s?.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(s.relatedTarget))||this.hide()},this.tippyBlurHandler=s=>{this.blurHandler({event:s})},this.handleDebouncedUpdate=(s,u)=>{const g=!u?.selection.eq(s.state.selection),y=!u?.doc.eq(s.state.doc);!g&&!y||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(s,g,y,u)},this.updateDelay))},this.updateHandler=(s,u,g,y)=>{var C,A,M;const{state:H,composing:O}=s,{selection:P}=H;if(O||!u&&!g)return;this.createTooltip();const{ranges:z}=P,W=Math.min(...z.map(m=>m.$from.pos)),o=Math.max(...z.map(m=>m.$to.pos));if(!((C=this.shouldShow)===null||C===void 0?void 0:C.call(this,{editor:this.editor,view:s,state:H,oldState:y,from:W,to:o}))){this.hide();return}(A=this.tippy)===null||A===void 0||A.setProps({getReferenceClientRect:((M=this.tippyOptions)===null||M===void 0?void 0:M.getReferenceClientRect)||(()=>{if(Gt(H.selection)){let m=s.nodeDOM(W);const K=m.dataset.nodeViewWrapper?m:m.querySelector("[data-node-view-wrapper]");if(K&&(m=K.firstChild),m)return m.getBoundingClientRect()}return ft(s,W,o)})}),this.show()},this.editor=t,this.element=n,this.view=i,this.updateDelay=l,a&&(this.shouldShow=a),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=c,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=I(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){const{state:i}=t,c=i.selection.from!==i.selection.to;if(this.updateDelay>0&&c){this.handleDebouncedUpdate(t,n);return}const l=!n?.selection.eq(t.state.selection),a=!n?.doc.eq(t.state.doc);this.updateHandler(t,l,a,n)}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,n;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const $t=e=>new ut({key:typeof e.pluginKey=="string"?new ht(e.pluginKey):e.pluginKey,view:t=>new Gn({view:t,...e})});pt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[$t({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});class Yn{constructor({editor:t,element:n,view:i,tippyOptions:c={},shouldShow:l}){this.preventHide=!1,this.shouldShow=({view:a,state:s})=>{const{selection:u}=s,{$anchor:g,empty:y}=u,C=g.depth===1,A=g.parent.isTextblock&&!g.parent.type.spec.code&&!g.parent.textContent;return!(!a.hasFocus()||!y||!C||!A||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var s;if(this.preventHide){this.preventHide=!1;return}a?.relatedTarget&&(!((s=this.element.parentNode)===null||s===void 0)&&s.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.editor=t,this.element=n,this.view=i,l&&(this.shouldShow=l),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=c,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,n=!!t.parentElement;this.tippy||!n||(this.tippy=I(t,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(t,n){var i,c,l;const{state:a}=t,{doc:s,selection:u}=a,{from:g,to:y}=u;if(n&&n.doc.eq(s)&&n.selection.eq(u))return;if(this.createTooltip(),!((i=this.shouldShow)===null||i===void 0?void 0:i.call(this,{editor:this.editor,view:t,state:a,oldState:n}))){this.hide();return}(c=this.tippy)===null||c===void 0||c.setProps({getReferenceClientRect:((l=this.tippyOptions)===null||l===void 0?void 0:l.getReferenceClientRect)||(()=>ft(t,g,y))}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t,n;!((t=this.tippy)===null||t===void 0)&&t.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Tt=e=>new ut({key:typeof e.pluginKey=="string"?new ht(e.pluginKey):e.pluginKey,view:t=>new Yn({view:t,...e})});pt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Tt({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const Xn=Le({name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},updateDelay:{type:Number,default:void 0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=De(null);return mt(()=>{const{updateDelay:i,editor:c,pluginKey:l,shouldShow:a,tippyOptions:s}=e;c.registerPlugin($t({updateDelay:i,editor:c,element:n.value,pluginKey:l,shouldShow:a,tippyOptions:s}))}),Oe(()=>{const{pluginKey:i,editor:c}=e;c.unregisterPlugin(i)}),()=>{var i;return ve("div",{ref:n},(i=t.default)===null||i===void 0?void 0:i.call(t))}}});function dt(e){return en((t,n)=>({get(){return t(),e},set(i){e=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class Jn extends Yt{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=dt(this.view.state),this.reactiveExtensionStorage=dt(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),vt(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){super.registerPlugin(t,n),this.reactiveState.value=this.view.state}unregisterPlugin(t){super.unregisterPlugin(t),this.reactiveState.value=this.view.state}}const Qn=Le({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=De(),n=Xt();return Jt(()=>{const i=e.editor;i&&i.options.element&&t.value&&Qt(()=>{if(!t.value||!i.options.element.firstChild)return;const c=Zt(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:c}),i.createNodeViews()})}),Oe(()=>{const i=e.editor;if(!i||(i.isDestroyed||i.view.setProps({nodeViews:{}}),i.contentComponent=null,i.appContext=null,!i.options.element.firstChild))return;const c=document.createElement("div");c.append(...i.options.element.childNodes),i.setOptions({element:c})}),{rootEl:t}},render(){return ve("div",{ref:e=>{this.rootEl=e}})}}),Zn=Le({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(e,{slots:t}){const n=De(null);return mt(()=>{const{pluginKey:i,editor:c,tippyOptions:l,shouldShow:a}=e;c.registerPlugin(Tt({pluginKey:i,editor:c,element:n.value,tippyOptions:l,shouldShow:a}))}),Oe(()=>{const{pluginKey:i,editor:c}=e;c.unregisterPlugin(i)}),()=>{var i;return ve("div",{ref:n},(i=t.default)===null||i===void 0?void 0:i.call(t))}}});class ei{constructor(t,{props:n={},editor:i}){this.editor=i,this.component=vt(t),this.el=document.createElement("div"),this.props=tn(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var t,n,i,c;return!((n=(t=this.renderedComponent.vNode)===null||t===void 0?void 0:t.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(c=(i=this.renderedComponent.vNode)===null||i===void 0?void 0:i.component)===null||c===void 0?void 0:c.proxy}renderComponent(){let t=ve(this.component,this.props);return this.editor.appContext&&(t.appContext=this.editor.appContext),typeof document<"u"&&this.el&&et(t,this.el),{vNode:t,destroy:()=>{this.el&&et(null,this.el),this.el=null,t=null},el:this.el?this.el.firstElementChild:null}}updateProps(t={}){Object.entries(t).forEach(([n,i])=>{this.props[n]=i}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const ti={props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},watch:{items(){this.selectedIndex=0}},methods:{onKeyDown({event:e}){return e.key==="ArrowUp"?(this.upHandler(),!0):e.key==="ArrowDown"?(this.downHandler(),!0):e.key==="Enter"?(this.enterHandler(),!0):!1},upHandler(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length},downHandler(){this.selectedIndex=(this.selectedIndex+1)%this.items.length},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(e){const t=this.items[e];t&&this.command({id:t.value,label:t.label})}}},ni={key:0,class:"min-w-40 rounded-lg border bg-white p-1 text-base shadow-lg"},ii=["onClick","onMouseover"];function oi(e,t,n,i,c,l){return p(),v("div",null,[n.items.length?(p(),v("div",ni,[(p(!0),v(J,null,pe(n.items,(a,s)=>(p(),v("button",{class:te([s===c.selectedIndex?"bg-gray-100":"text-gray-900","flex w-full items-center whitespace-nowrap rounded-md px-2 py-2 text-sm"]),key:s,onClick:u=>l.selectItem(s),onMouseover:u=>c.selectedIndex=s},Q(a.label),43,ii))),128))])):ne("",!0)])}const ri=b(ti,[["render",oi]]);function si(e){return nn.configure({HTMLAttributes:{class:"mention"},suggestion:ai(e)})}function ai(e){return{items:({query:t})=>e.filter(n=>n.label.toLowerCase().startsWith(t.toLowerCase())).slice(0,10),render:()=>{let t,n;return{onStart:i=>{t=new ei(ri,{props:i,editor:i.editor}),i.clientRect&&(n=I("body",{getReferenceClientRect:i.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(i){t.updateProps(i),i.clientRect&&n[0].setProps({getReferenceClientRect:i.clientRect})},onKeyDown(i){return i.event.key==="Escape"?(n[0].hide(),!0):t.ref?.onKeyDown(i)},onExit(){n[0].destroy(),t.destroy()}}}}}const li={name:"TipTapMenu",props:["buttons"],inject:["editor"],components:{Popover:on},methods:{onButtonClick(e){e.action(this.editor)}}},ci={class:"inline-flex bg-white px-1 py-1"},di={class:"inline-flex items-center gap-1"},ui={key:0,class:"h-4 w-[2px] border-l"},hi={key:1,class:"shrink-0"},pi=["onClick","set"],fi={key:1},vi={class:"rounded border bg-white p-1 shadow-md"},mi={class:"w-full"},gi=["onClick"],_i=["onClick","title"],bi={key:1,class:"inline-block h-4 min-w-[1rem] text-sm leading-4"};function wi(e,t,n,i,c,l){const a=D("Popover");return p(),v("div",ci,[h("div",di,[(p(!0),v(J,null,pe(n.buttons,s=>(p(),v(J,{key:s.label},[s.type==="separator"?(p(),v("div",ui)):s.map?(p(),v("div",hi,[q(a,null,{target:Z(({togglePopover:u})=>[h("button",{class:"rounded px-2 py-1 text-base font-medium text-gray-800 transition-colors hover:bg-gray-100",onClick:u,set:e.activeBtn=s.find(g=>g.isActive(l.editor))||s[0]},[e.activeBtn.icon?(p(),S(he(e.activeBtn.icon),{key:0,class:"h-4 w-4"})):(p(),v("span",fi,Q(e.activeBtn.label),1))],8,pi)]),body:Z(({close:u})=>[h("ul",vi,[(p(!0),v(J,null,pe(s,g=>rn((p(),v("li",mi,[h("button",{class:"w-full rounded px-2 py-1 text-left text-base hover:bg-gray-50",onClick:()=>{l.onButtonClick(g),u()}},Q(g.label),9,gi)],512)),[[sn,g.isDisabled?!g.isDisabled(l.editor):!0]])),256))])]),_:2},1024)])):(p(),S(he(s.component||"div"),gt({key:2,ref_for:!0},{editor:l.editor}),{default:Z(u=>[h("button",{class:te(["flex rounded p-1 text-gray-800 transition-colors",s.isActive(l.editor)||u?.isActive?"bg-gray-100":"hover:bg-gray-100"]),onClick:g=>u?.onClick?u.onClick(s):l.onButtonClick(s),title:s.label},[s.icon?(p(),S(he(s.icon),{key:0,class:"h-4 w-4"})):(p(),v("span",bi,Q(s.text),1))],10,_i)]),_:2},1040))],64))),128))])])}const Mt=b(li,[["render",wi]]),yi={},Hi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},xi=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),Ci=h("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z",fill:"currentColor"},null,-1),Ai=[xi,Ci];function $i(e,t){return p(),v("svg",Hi,Ai)}const Ti=b(yi,[["render",$i]]),Mi={},Ei={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Bi=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),Li=h("path",{d:"M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z",fill:"currentColor"},null,-1),Di=[Bi,Li];function Oi(e,t){return p(),v("svg",Ei,Di)}const zi=b(Mi,[["render",Oi]]),Vi={},ki={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Ri=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),Si=h("path",{d:"M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z",fill:"currentColor"},null,-1),Ii=[Ri,Si];function Pi(e,t){return p(),v("svg",ki,Ii)}const Fi=b(Vi,[["render",Pi]]),Ni={},Ui={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},ji=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),qi=h("path",{d:"M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm9-12v8h1.5v2H22v2h-2v-2h-5.5v-1.34l5-8.66H22zm-2 3.133L17.19 16H20v-4.867z",fill:"currentColor"},null,-1),Wi=[ji,qi];function Ki(e,t){return p(),v("svg",Ui,Wi)}const Gi=b(Ni,[["render",Ki]]),Yi={},Xi={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Ji=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),Qi=h("path",{d:"M22 8v2h-4.323l-.464 2.636c.33-.089.678-.136 1.037-.136 2.21 0 4 1.79 4 4s-1.79 4-4 4c-1.827 0-3.367-1.224-3.846-2.897l1.923-.551c.24.836 1.01 1.448 1.923 1.448 1.105 0 2-.895 2-2s-.895-2-2-2c-.63 0-1.193.292-1.56.748l-1.81-.904L16 8h6zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z",fill:"currentColor"},null,-1),Zi=[Ji,Qi];function eo(e,t){return p(),v("svg",Xi,Zi)}const to=b(Yi,[["render",eo]]),no={},io={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},oo=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),ro=h("path",{d:"M21.097 8l-2.598 4.5c2.21 0 4.001 1.79 4.001 4s-1.79 4-4 4-4-1.79-4-4c0-.736.199-1.426.546-2.019L18.788 8h2.309zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 10.5c-1.105 0-2 .895-2 2s.895 2 2 2 2-.895 2-2-.895-2-2-2z",fill:"currentColor"},null,-1),so=[oo,ro];function ao(e,t){return p(),v("svg",io,so)}const lo=b(no,[["render",ao]]),co={},uo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},ho=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),po=h("path",{d:"M13 6v15h-2V6H5V4h14v2z",fill:"currentColor"},null,-1),fo=[ho,po];function vo(e,t){return p(),v("svg",uo,fo)}const mo=b(co,[["render",vo]]),go={},_o={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},bo=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),wo=h("path",{d:"M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z",fill:"currentColor"},null,-1),yo=[bo,wo];function Ho(e,t){return p(),v("svg",_o,yo)}const xo=b(go,[["render",Ho]]),Co={},Ao={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},$o=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),To=h("path",{d:"M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z",fill:"currentColor"},null,-1),Mo=[$o,To];function Eo(e,t){return p(),v("svg",Ao,Mo)}const Bo=b(Co,[["render",Eo]]),Lo={},Do={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Oo=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),zo=h("path",{d:"M8 3v9a4 4 0 1 0 8 0V3h2v9a6 6 0 1 1-12 0V3h2zM4 20h16v2H4v-2z",fill:"currentColor"},null,-1),Vo=[Oo,zo];function ko(e,t){return p(),v("svg",Do,Vo)}const Ro=b(Lo,[["render",ko]]),So={},Io={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Po=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Fo=h("path",{d:"M3 4h18v2H3V4zm2 15h14v2H5v-2zm-2-5h18v2H3v-2zm2-5h14v2H5V9z",fill:"currentColor"},null,-1),No=[Po,Fo];function Uo(e,t){return p(),v("svg",Io,No)}const jo=b(So,[["render",Uo]]),qo={},Wo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Ko=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Go=h("path",{d:"M3 4h18v2H3V4zm0 15h14v2H3v-2zm0-5h18v2H3v-2zm0-5h14v2H3V9z",fill:"currentColor"},null,-1),Yo=[Ko,Go];function Xo(e,t){return p(),v("svg",Wo,Yo)}const Jo=b(qo,[["render",Xo]]),Qo={},Zo={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},er=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),tr=h("path",{d:"M3 4h18v2H3V4zm4 15h14v2H7v-2zm-4-5h18v2H3v-2zm4-5h14v2H7V9z",fill:"currentColor"},null,-1),nr=[er,tr];function ir(e,t){return p(),v("svg",Zo,nr)}const or=b(Qo,[["render",ir]]),rr={},sr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},ar=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),lr=h("path",{d:"M15.246 14H8.754l-1.6 4H5l6-15h2l6 15h-2.154l-1.6-4zm-.8-2L12 5.885 9.554 12h4.892zM3 20h18v2H3v-2z",fill:"currentColor"},null,-1),cr=[ar,lr];function dr(e,t){return p(),v("svg",sr,cr)}const ur=b(rr,[["render",dr]]),hr={},pr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},fr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),vr=h("path",{d:"M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"},null,-1),mr=[fr,vr];function gr(e,t){return p(),v("svg",pr,mr)}const _r=b(hr,[["render",gr]]),br={},wr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},yr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Hr=h("path",{d:"M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z",fill:"currentColor"},null,-1),xr=[yr,Hr];function Cr(e,t){return p(),v("svg",wr,xr)}const Ar=b(br,[["render",Cr]]),$r={},Tr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Mr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Er=h("path",{d:"M19.417 6.679C20.447 7.773 21 9 21 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311-1.804-.167-3.226-1.648-3.226-3.489a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179zm-10 0C10.447 7.773 11 9 11 10.989c0 3.5-2.457 6.637-6.03 8.188l-.893-1.378c3.335-1.804 3.987-4.145 4.247-5.621-.537.278-1.24.375-1.929.311C4.591 12.322 3.17 10.841 3.17 9a3.5 3.5 0 0 1 3.5-3.5c1.073 0 2.099.49 2.748 1.179z",fill:"currentColor"},null,-1),Br=[Mr,Er];function Lr(e,t){return p(),v("svg",Tr,Br)}const Dr=b($r,[["render",Lr]]),Or={},zr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Vr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),kr=h("path",{d:"M16.95 8.464l1.414-1.414 4.95 4.95-4.95 4.95-1.414-1.414L20.485 12 16.95 8.464zm-9.9 0L3.515 12l3.535 3.536-1.414 1.414L.686 12l4.95-4.95L7.05 8.464z",fill:"currentColor"},null,-1),Rr=[Vr,kr];function Sr(e,t){return p(),v("svg",zr,Rr)}const Ir=b(Or,[["render",Sr]]),Pr={},Fr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Nr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Ur=h("path",{d:"M18.364 15.536L16.95 14.12l1.414-1.414a5 5 0 1 0-7.071-7.071L9.879 7.05 8.464 5.636 9.88 4.222a7 7 0 0 1 9.9 9.9l-1.415 1.414zm-2.828 2.828l-1.415 1.414a7 7 0 0 1-9.9-9.9l1.415-1.414L7.05 9.88l-1.414 1.414a5 5 0 1 0 7.071 7.071l1.414-1.414 1.415 1.414zm-.708-10.607l1.415 1.415-7.071 7.07-1.415-1.414 7.071-7.07z",fill:"currentColor"},null,-1),jr=[Nr,Ur];function qr(e,t){return p(),v("svg",Fr,jr)}const Wr=b(Pr,[["render",qr]]),Kr={},Gr={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Yr=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Xr=h("path",{d:"M21 15v3h3v2h-3v3h-2v-3h-3v-2h3v-3h2zm.008-12c.548 0 .992.445.992.993V13h-2V5H4v13.999L14 9l3 3v2.829l-3-3L6.827 19H14v2H2.992A.993.993 0 0 1 2 20.007V3.993A1 1 0 0 1 2.992 3h18.016zM8 7a2 2 0 1 1 0 4 2 2 0 0 1 0-4z",fill:"currentColor"},null,-1),Jr=[Yr,Xr];function Qr(e,t){return p(),v("svg",Gr,Jr)}const Zr=b(Kr,[["render",Qr]]),es={},ts={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},ns=h("path",{fill:"none",d:"M0 0H24V24H0z"},null,-1),is=h("path",{d:"M16 4c.552 0 1 .448 1 1v4.2l5.213-3.65c.226-.158.538-.103.697.124.058.084.09.184.09.286v12.08c0 .276-.224.5-.5.5-.103 0-.203-.032-.287-.09L17 14.8V19c0 .552-.448 1-1 1H2c-.552 0-1-.448-1-1V5c0-.552.448-1 1-1h14zm-1 2H3v12h12V6zM8 8h2v3h3v2H9.999L10 16H8l-.001-3H5v-2h3V8zm13 .841l-4 2.8v.718l4 2.8V8.84z",fill:"currentColor"},null,-1),os=[ns,is];function rs(e,t){return p(),v("svg",ts,os)}const ss=b(es,[["render",rs]]),as={},ls={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},cs=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),ds=h("path",{d:"M5.828 7l2.536 2.536L6.95 10.95 2 6l4.95-4.95 1.414 1.414L5.828 5H13a8 8 0 1 1 0 16H4v-2h9a6 6 0 1 0 0-12H5.828z",fill:"currentColor"},null,-1),us=[cs,ds];function hs(e,t){return p(),v("svg",ls,us)}const ps=b(as,[["render",hs]]),fs={},vs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},ms=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),gs=h("path",{d:"M18.172 7H11a6 6 0 1 0 0 12h9v2h-9a8 8 0 1 1 0-16h7.172l-2.536-2.536L17.05 1.05 22 6l-4.95 4.95-1.414-1.414L18.172 7z",fill:"currentColor"},null,-1),_s=[ms,gs];function bs(e,t){return p(),v("svg",vs,_s)}const ws=b(fs,[["render",bs]]),ys={},Hs={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},xs=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Cs=h("path",{d:"M2 11h2v2H2v-2zm4 0h12v2H6v-2zm14 0h2v2h-2v-2z",fill:"currentColor"},null,-1),As=[xs,Cs];function $s(e,t){return p(),v("svg",Hs,As)}const Ts=b(ys,[["render",$s]]),Ms={},Es={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},Bs=h("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),Ls=h("path",{d:"M13 10v4h6v-4h-6zm-2 0H5v4h6v-4zm2 9h6v-3h-6v3zm-2 0v-3H5v3h6zm2-14v3h6V5h-6zm-2 0H5v3h6V5zM4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z",fill:"currentColor"},null,-1),Ds=[Bs,Ls];function Os(e,t){return p(),v("svg",Es,Ds)}const zs=b(Ms,[["render",Os]]),Vs={Paragraph:{label:"Paragraph",icon:mo,action:e=>e.chain().focus().setParagraph().run(),isActive:e=>e.isActive("paragraph")},"Heading 1":{label:"Heading 1",text:"H1",icon:Ti,action:e=>e.chain().focus().toggleHeading({level:1}).run(),isActive:e=>e.isActive("heading",{level:1})},"Heading 2":{label:"Heading 2",text:"H2",icon:zi,action:e=>e.chain().focus().toggleHeading({level:2}).run(),isActive:e=>e.isActive("heading",{level:2})},"Heading 3":{label:"Heading 3",text:"H3",icon:Fi,action:e=>e.chain().focus().toggleHeading({level:3}).run(),isActive:e=>e.isActive("heading",{level:3})},"Heading 4":{label:"Heading 4",text:"H4",icon:Gi,action:e=>e.chain().focus().toggleHeading({level:4}).run(),isActive:e=>e.isActive("heading",{level:4})},"Heading 5":{label:"Heading 5",text:"H5",icon:to,action:e=>e.chain().focus().toggleHeading({level:5}).run(),isActive:e=>e.isActive("heading",{level:5})},"Heading 6":{label:"Heading 6",text:"H6",icon:lo,action:e=>e.chain().focus().toggleHeading({level:6}).run(),isActive:e=>e.isActive("heading",{level:6})},Bold:{label:"Bold",icon:xo,action:e=>e.chain().focus().toggleBold().run(),isActive:e=>e.isActive("bold")},Italic:{label:"Italic",icon:Bo,action:e=>e.chain().focus().toggleItalic().run(),isActive:e=>e.isActive("italic")},Underline:{label:"Underline",icon:Ro,action:e=>e.chain().focus().toggleUnderline().run(),isActive:e=>e.isActive("underline")},"Bullet List":{label:"Bullet List",icon:Ar,action:e=>e.chain().focus().toggleBulletList().run(),isActive:e=>e.isActive("bulletList")},"Numbered List":{label:"Numbered List",icon:_r,action:e=>e.chain().focus().toggleOrderedList().run(),isActive:e=>e.isActive("orderedList")},"Align Center":{label:"Align Center",icon:jo,action:e=>e.chain().focus().setTextAlign("center").run(),isActive:e=>e.isActive({textAlign:"center"})},"Align Left":{label:"Align Left",icon:Jo,action:e=>e.chain().focus().setTextAlign("left").run(),isActive:e=>e.isActive({textAlign:"left"})},"Align Right":{label:"Align Right",icon:or,action:e=>e.chain().focus().setTextAlign("right").run(),isActive:e=>e.isActive({textAlign:"right"})},FontColor:{label:"Font Color",icon:ur,isActive:e=>e.isActive("textStyle")||e.isActive("highlight"),component:ce(()=>de(()=>import("./FontColor-f527a003.js"),["assets/FontColor-f527a003.js","assets/index-a86022ab.js","assets/index-808581c1.css"]))},Blockquote:{label:"Blockquote",icon:Dr,action:e=>e.chain().focus().toggleBlockquote().run(),isActive:e=>e.isActive("blockquote")},Code:{label:"Code",icon:Ir,action:e=>e.chain().focus().toggleCodeBlock().run(),isActive:e=>e.isActive("codeBlock")},"Horizontal Rule":{label:"Horizontal Rule",icon:Ts,action:e=>e.chain().focus().setHorizontalRule().run(),isActive:e=>!1},Link:{label:"Link",icon:Wr,isActive:e=>e.isActive("link"),component:ce(()=>de(()=>import("./InsertLink-264b619a.js"),["assets/InsertLink-264b619a.js","assets/index-a86022ab.js","assets/index-808581c1.css"]))},Image:{label:"Image",icon:Zr,isActive:e=>!1,component:ce(()=>de(()=>import("./InsertImage-fbca93e9.js"),["assets/InsertImage-fbca93e9.js","assets/index-a86022ab.js","assets/index-808581c1.css"]))},Video:{label:"Video",icon:ss,isActive:e=>!1,component:ce(()=>de(()=>import("./InsertVideo-941e7468.js"),["assets/InsertVideo-941e7468.js","assets/index-a86022ab.js","assets/index-808581c1.css","assets/FileUploader-c45cb8d3.js"]))},Undo:{label:"Undo",icon:ps,action:e=>e.chain().focus().undo().run(),isActive:e=>!1},Redo:{label:"Redo",icon:ws,action:e=>e.chain().focus().redo().run(),isActive:e=>!1},InsertTable:{label:"Insert Table",icon:zs,action:e=>e.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),isActive:e=>!1},AddColumnBefore:{label:"Add Column Before",action:e=>e.chain().focus().addColumnBefore().run(),isActive:e=>!1,isDisabled:e=>!e.can().addColumnBefore()},AddColumnAfter:{label:"Add Column After",action:e=>e.chain().focus().addColumnAfter().run(),isActive:e=>!1,isDisabled:e=>!e.can().addColumnAfter()},DeleteColumn:{label:"Delete Column",action:e=>e.chain().focus().deleteColumn().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteColumn()},AddRowBefore:{label:"Add Row Before",action:e=>e.chain().focus().addRowBefore().run(),isActive:e=>!1,isDisabled:e=>!e.can().addRowBefore()},AddRowAfter:{label:"Add Row After",action:e=>e.chain().focus().addRowAfter().run(),isActive:e=>!1,isDisabled:e=>!e.can().addRowAfter()},DeleteRow:{label:"Delete Row",action:e=>e.chain().focus().deleteRow().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteRow()},DeleteTable:{label:"Delete Table",action:e=>e.chain().focus().deleteTable().run(),isActive:e=>!1,isDisabled:e=>!e.can().deleteTable()},MergeCells:{label:"Merge Cells",action:e=>e.chain().focus().mergeCells().run(),isActive:e=>!1,isDisabled:e=>!e.can().mergeCells()},SplitCell:{label:"Split Cell",action:e=>e.chain().focus().splitCell().run(),isActive:e=>!1,isDisabled:e=>!e.can().splitCell()},ToggleHeaderColumn:{label:"Toggle Header Column",action:e=>e.chain().focus().toggleHeaderColumn().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderColumn()},ToggleHeaderRow:{label:"Toggle Header Row",action:e=>e.chain().focus().toggleHeaderRow().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderRow()},ToggleHeaderCell:{label:"Toggle Header Cell",action:e=>e.chain().focus().toggleHeaderCell().run(),isActive:e=>!1,isDisabled:e=>!e.can().toggleHeaderCell()},Separator:{type:"separator"}};function ge(e){return e instanceof Array?e.map(ge):typeof e=="object"?e:Vs[e]}const ks={name:"TextEditorFixedMenu",props:["buttons"],components:{Menu:Mt},inject:["editor"],computed:{fixedMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=[["Heading 1","Heading 2","Heading 3","Heading 4","Heading 5","Heading 6"],"Paragraph","Separator","Bold","Italic","Separator","Bullet List","Numbered List","Separator","Align Left","Align Center","Align Right","FontColor","Separator","Image","Video","Link","Blockquote","Code","Horizontal Rule",["InsertTable","AddColumnBefore","AddColumnAfter","DeleteColumn","AddRowBefore","AddRowAfter","DeleteRow","MergeCells","SplitCell","ToggleHeaderColumn","ToggleHeaderRow","ToggleHeaderCell","DeleteTable"],"Separator","Undo","Redo"],e.map(ge)}}};function Rs(e,t,n,i,c,l){const a=D("Menu");return l.fixedMenuButtons?(p(),S(a,{key:0,buttons:l.fixedMenuButtons},null,8,["buttons"])):ne("",!0)}const Ss=b(ks,[["render",Rs]]),Is={name:"TextEditorBubbleMenu",props:["buttons","options"],components:{BubbleMenu:Xn,Menu:Mt},inject:["editor"],computed:{bubbleMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=["Paragraph","Heading 2","Heading 3","Separator","Bold","Italic","Link","Separator","Bullet List","Numbered List","Separator","Image","Video","Blockquote","Code",["InsertTable","AddColumnBefore","AddColumnAfter","DeleteColumn","AddRowBefore","AddRowAfter","DeleteRow","MergeCells","SplitCell","ToggleHeaderColumn","ToggleHeaderRow","ToggleHeaderCell","DeleteTable"]],e.map(ge)}}};function Ps(e,t,n,i,c,l){const a=D("Menu"),s=D("BubbleMenu");return l.bubbleMenuButtons?(p(),S(s,gt({key:0,class:"bubble-menu rounded-md shadow-sm","tippy-options":{duration:100},editor:l.editor},n.options),{default:Z(()=>[q(a,{class:"rounded-md border border-gray-100 shadow-lg",buttons:l.bubbleMenuButtons},null,8,["buttons"])]),_:1},16,["editor"])):ne("",!0)}const Fs=b(Is,[["render",Ps]]),Ns={name:"TextEditorFloatingMenu",props:["buttons"],components:{FloatingMenu:Zn},inject:["editor"],computed:{floatingMenuButtons(){if(!this.buttons)return!1;let e;return Array.isArray(this.buttons)?e=this.buttons:e=["Paragraph","Heading 2","Heading 3","Bullet List","Numbered List","Blockquote","Code","Horizontal Rule"],e.map(ge)}}},Us=["onClick","title"],js={key:1,class:"inline-block h-4 min-w-[1rem] text-sm leading-4"};function qs(e,t,n,i,c,l){const a=D("FloatingMenu");return l.floatingMenuButtons?(p(),S(a,{key:0,"tippy-options":{duration:100},editor:l.editor,class:"flex"},{default:Z(()=>[(p(!0),v(J,null,pe(l.floatingMenuButtons,s=>(p(),v("button",{key:s.label,class:te(["flex rounded p-1 text-gray-800 transition-colors",s.isActive(l.editor)?"bg-gray-100":"hover:bg-gray-100"]),onClick:()=>s.action(l.editor),title:s.label},[s.icon?(p(),S(he(s.icon),{key:0,class:"h-4 w-4"})):(p(),v("span",js,Q(s.text),1))],10,Us))),128))]),_:1},8,["editor"])):ne("",!0)}const Ws=b(Ns,[["render",qs]]);function Ks(e){return new an.Converter().makeHtml(e)}function Gs(e){return e.split(`
`).filter(i=>i.startsWith("![")||i.startsWith("#")||i.startsWith("> ")||i.startsWith("*")||i.startsWith("- ")||i.startsWith("1. ")||i.startsWith("```")||i.startsWith("`")||i.startsWith("[")||i.startsWith("---")).length>0}const Ys={name:"TextEditor",inheritAttrs:!1,components:{EditorContent:Qn,TextEditorFixedMenu:Ss,TextEditorBubbleMenu:Fs,TextEditorFloatingMenu:Ws},props:{content:{type:String,default:null},placeholder:{type:[String,Function],default:""},editorClass:{type:[String,Array,Object],default:""},editable:{type:Boolean,default:!0},bubbleMenu:{type:[Boolean,Array],default:!1},bubbleMenuOptions:{type:Object,default:()=>({})},fixedMenu:{type:[Boolean,Array],default:!1},floatingMenu:{type:[Boolean,Array],default:!1},extensions:{type:Array,default:()=>[]},starterkitOptions:{type:Object,default:()=>({})},mentions:{type:Array,default:()=>[]}},emits:["change","focus","blur"],expose:["editor"],provide(){return{editor:ln(()=>this.editor)}},data(){return{editor:null}},watch:{content(e){this.editor.getHTML()!==e&&this.editor.commands.setContent(e)},editable(e){this.editor.setEditable(e)},editorProps:{deep:!0,handler(e){this.editor&&this.editor.setOptions({editorProps:e})}}},mounted(){this.editor=new Jn({content:this.content||null,editorProps:this.editorProps,editable:this.editable,extensions:[cn.configure({...this.starterkitOptions}),dn.configure({resizable:!0}),un,hn,pn,fn,vn.configure({types:["heading","paragraph"]}),mn,gn,_n.configure({multicolor:!0}),bn,wn,yn.configure({openOnClick:!1}),Hn.configure({showOnlyWhenEditable:!1,placeholder:typeof this.placeholder=="function"?this.placeholder:()=>this.placeholder}),si(this.mentions),...this.extensions||[]],onUpdate:({editor:e})=>{this.$emit("change",e.getHTML())},onFocus:({editor:e,event:t})=>{this.$emit("focus",t)},onBlur:({editor:e,event:t})=>{this.$emit("blur",t)}})},beforeUnmount(){this.editor.destroy(),this.editor=null},computed:{editorProps(){return{attributes:{class:te(["prose prose-table:table-fixed prose-td:p-2 prose-th:p-2 prose-td:border prose-th:border prose-td:border-gray-300 prose-th:border-gray-300 prose-td:relative prose-th:relative prose-th:bg-gray-100",this.editorClass])},clipboardTextParser:(e,t)=>{if(!Gs(e)||!confirm("Do you want to convert markdown content to HTML before pasting?"))return;let n=document.createElement("div");return n.innerHTML=Ks(e),(this.editor.view.someProp("clipboardParser")||this.editor.view.someProp("domParser")||xn.fromSchema(this.editor.schema)).parseSlice(n,{preserveWhitespace:!0,context:t})}}}}};function Xs(e,t,n,i,c,l){const a=D("TextEditorBubbleMenu"),s=D("TextEditorFixedMenu"),u=D("TextEditorFloatingMenu"),g=D("editor-content");return c.editor?(p(),v("div",{key:0,class:te(["relative w-full",e.$attrs.class])},[q(a,{buttons:n.bubbleMenu,options:n.bubbleMenuOptions},null,8,["buttons","options"]),q(s,{class:"w-full overflow-x-auto rounded-t-lg border border-gray-200",buttons:n.fixedMenu},null,8,["buttons"]),q(u,{buttons:n.floatingMenu},null,8,["buttons"]),Ce(e.$slots,"top"),Ce(e.$slots,"editor",{editor:c.editor},()=>[q(g,{editor:c.editor},null,8,["editor"])]),Ce(e.$slots,"bottom")],2)):ne("",!0)}const Qs=b(Ys,[["render",Xs]]);export{Ss as T,Qs as a};
//# sourceMappingURL=TextEditor-c90c58ca.js.map
